import { e as createComponent, m as maybeRenderHead, l as renderScript, r as renderTemplate, f as createAstro, k as renderComponent, h as addAttribute, q as Fragment, v as renderSlot, w as renderHead } from './astro/server_CvuIRyz4.mjs';
import 'piccolore';
import 'clsx';
import { s as supabase } from './supabase_CDb81jFl.mjs';
/* empty css                         */

const $$ThemeToggle = createComponent(($$result, $$props, $$slots) => {
  return renderTemplate`${maybeRenderHead()}<button id="theme-toggle" class="p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors" aria-label="Toggle theme"> <!-- Sun icon --> <svg id="sun-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path> </svg> <!-- Moon icon --> <svg id="moon-icon" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path> </svg> </button> ${renderScript($$result, "/Users/nikhilsingh/Documents/websites/wipp/src/components/ThemeToggle.astro?astro&type=script&index=0&lang.ts")}`;
}, "/Users/nikhilsingh/Documents/websites/wipp/src/components/ThemeToggle.astro", void 0);

const $$Astro$1 = createAstro();
const $$Navbar = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$1, $$props, $$slots);
  Astro2.self = $$Navbar;
  const { cookies } = Astro2;
  const accessToken = cookies.get("sb-access-token")?.value;
  const refreshToken = cookies.get("sb-refresh-token")?.value;
  let session = null;
  let user = null;
  let profile = null;
  if (accessToken && refreshToken) {
    const { data, error } = await supabase.auth.setSession({
      access_token: accessToken,
      refresh_token: refreshToken
    });
    if (!error) {
      session = data.session;
      user = data.session?.user;
      if (user) {
        const { data: profileData } = await supabase.from("profiles").select("username, avatar_url, full_name").eq("id", user.id).maybeSingle();
        profile = profileData;
      }
    }
  }
  const displayName = profile?.username || profile?.full_name || user?.email?.split("@")[0] || "User";
  const displayInitial = displayName.charAt(0).toUpperCase();
  return renderTemplate`${maybeRenderHead()}<nav class="w-full sticky top-0 z-[60] transition-colors duration-300 px-4 pt-2" data-astro-cid-5blmo7yk> <div class="bg-white/80 dark:bg-black/80 backdrop-blur-xl border border-neutral-100 dark:border-neutral-800 rounded-2xl shadow-sm" data-astro-cid-5blmo7yk> <div class="max-w-7xl mx-auto px-6 h-20 flex justify-between items-center gap-4" data-astro-cid-5blmo7yk> <div class="flex items-center gap-8" data-astro-cid-5blmo7yk> <a href="/" class="flex items-center gap-2 group relative z-[70]" data-astro-cid-5blmo7yk> <img src="/logo.png" alt="Logo" class="h-16 w-auto dark:hidden group-hover:scale-105 transition-transform object-contain" data-astro-cid-5blmo7yk> <img src="/darklogo.png" alt="Logo" class="h-16 w-auto hidden dark:block group-hover:scale-105 transition-transform object-contain" data-astro-cid-5blmo7yk> </a> <div class="hidden md:flex items-center gap-6 text-sm font-medium text-neutral-500 dark:text-neutral-400" data-astro-cid-5blmo7yk> <a href="/explore" class="hover:text-neutral-900 dark:hover:text-white transition-colors" data-astro-cid-5blmo7yk>Explore</a> <a href="/about" class="hover:text-neutral-900 dark:hover:text-white transition-colors" data-astro-cid-5blmo7yk>About</a> <a href="/services" class="hover:text-neutral-900 dark:hover:text-white transition-colors" data-astro-cid-5blmo7yk>Services</a> <a href="/communities" class="hover:text-neutral-900 dark:hover:text-white transition-colors" data-astro-cid-5blmo7yk>Communities</a> ${session && renderTemplate`<a href="/inbox" class="hover:text-neutral-900 dark:hover:text-white transition-colors relative" id="inbox-link" data-astro-cid-5blmo7yk> <svg class="w-5 h-5 inline-block mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-5blmo7yk> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" data-astro-cid-5blmo7yk></path> </svg>
Inbox
<span id="unread-badge" class="hidden absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold notification-dot" data-astro-cid-5blmo7yk>
0
</span> </a>`} </div> </div> <div class="flex-1 max-w-md hidden md:block relative" data-astro-cid-5blmo7yk> <div class="relative group" data-astro-cid-5blmo7yk> <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none" data-astro-cid-5blmo7yk> <svg class="h-4 w-4 text-neutral-400 group-focus-within:text-neutral-900 dark:group-focus-within:text-white transition-colors" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-5blmo7yk> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" data-astro-cid-5blmo7yk></path> </svg> </div> <input type="text" id="navbar-search" placeholder="Search users..." class="block w-full pl-10 pr-3 py-2 border border-neutral-200 dark:border-neutral-800 rounded-full bg-neutral-50 dark:bg-neutral-900 text-neutral-900 dark:text-white focus:outline-none focus:bg-white dark:focus:bg-black focus:ring-1 focus:ring-neutral-900 dark:focus:ring-neutral-700 sm:text-sm transition-all" autocomplete="off" data-astro-cid-5blmo7yk> <!-- Search Results Dropdown --> <div id="search-results" class="absolute top-full left-0 right-0 mt-2 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-xl shadow-xl max-h-80 overflow-y-auto hidden z-[80]" data-astro-cid-5blmo7yk> <div id="search-loading" class="hidden p-4 text-center text-neutral-500" data-astro-cid-5blmo7yk> <div class="animate-spin w-4 h-4 border-2 border-neutral-300 border-t-neutral-600 rounded-full mx-auto mb-2" data-astro-cid-5blmo7yk></div>
Searching...
</div> <div id="search-empty" class="hidden p-4 text-center text-neutral-500 text-sm" data-astro-cid-5blmo7yk>
No users found
</div> <div id="search-list" class="py-2" data-astro-cid-5blmo7yk> <!-- Search results will be inserted here --> </div> </div> </div> </div> <div class="flex items-center gap-3" data-astro-cid-5blmo7yk> ${renderComponent($$result, "ThemeToggle", $$ThemeToggle, { "data-astro-cid-5blmo7yk": true })} <button id="mobile-menu-btn" class="md:hidden p-2 -mr-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors text-neutral-900 dark:text-white relative z-[70]" data-astro-cid-5blmo7yk> <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-5blmo7yk> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" data-astro-cid-5blmo7yk></path> </svg> </button> <div class="hidden md:flex items-center gap-4" data-astro-cid-5blmo7yk> ${session ? renderTemplate`${renderComponent($$result, "Fragment", Fragment, { "data-astro-cid-5blmo7yk": true }, { "default": async ($$result2) => renderTemplate` <a href="/post" class="bg-neutral-900 dark:bg-white text-white dark:text-black text-xs font-bold px-4 py-2 rounded-full hover:opacity-90 transition-opacity" data-astro-cid-5blmo7yk>
Post Work
</a> <div class="relative group" data-astro-cid-5blmo7yk> <button class="flex items-center focus:outline-none" data-astro-cid-5blmo7yk> ${profile?.avatar_url ? renderTemplate`<img${addAttribute(profile.avatar_url, "src")} alt="Profile" class="h-9 w-9 rounded-full object-cover border border-neutral-200 dark:border-neutral-800" data-astro-cid-5blmo7yk>` : renderTemplate`<div class="h-9 w-9 rounded-full bg-neutral-900 dark:bg-white text-white dark:text-black flex items-center justify-center text-sm font-bold" data-astro-cid-5blmo7yk> ${displayInitial} </div>`} </button> <div class="absolute right-0 top-full pt-2 w-56 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 ease-out transform translate-y-2 group-hover:translate-y-0 z-[70]" data-astro-cid-5blmo7yk> <div class="bg-white dark:bg-neutral-900 rounded-xl shadow-xl border border-neutral-100 dark:border-neutral-800 overflow-hidden" data-astro-cid-5blmo7yk> <div class="px-4 py-3 border-b border-neutral-100 dark:border-neutral-800" data-astro-cid-5blmo7yk> <p class="text-xs font-medium text-neutral-400 uppercase tracking-wider mb-1" data-astro-cid-5blmo7yk>Signed in as</p> <p class="text-sm font-bold text-neutral-900 dark:text-white truncate" data-astro-cid-5blmo7yk>${displayName}</p> </div> <!-- Encryption Status --> <div class="px-4 py-2 border-b border-neutral-100 dark:border-neutral-800" data-astro-cid-5blmo7yk> <div id="encryption-status" class="flex items-center gap-2 text-xs" data-astro-cid-5blmo7yk> <div id="encryption-locked" class="flex items-center gap-2 text-amber-600" data-astro-cid-5blmo7yk> <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-5blmo7yk> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-astro-cid-5blmo7yk></path> </svg> <span data-astro-cid-5blmo7yk>Keys locked</span> <button id="unlock-keys-navbar" class="text-blue-600 hover:text-blue-800 underline" data-astro-cid-5blmo7yk>Unlock</button> </div> <div id="encryption-unlocked" class="hidden flex items-center gap-2 text-green-600" data-astro-cid-5blmo7yk> <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-5blmo7yk> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-3a1 1 0 011-1h2.586l6.414-6.414a6 6 0 015.743-7.743z" data-astro-cid-5blmo7yk></path> </svg> <span data-astro-cid-5blmo7yk>Keys unlocked</span> </div> <div id="encryption-none" class="hidden flex items-center gap-2 text-green-600 dark:text-green-400" data-astro-cid-5blmo7yk> <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-5blmo7yk> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-astro-cid-5blmo7yk></path> </svg> <span data-astro-cid-5blmo7yk>Auto-encrypted</span> </div> </div> </div> <div class="py-1" data-astro-cid-5blmo7yk> <a${addAttribute(`/profile/${user.id}`, "href")} class="block px-4 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800 dark:text-white" data-astro-cid-5blmo7yk>Your Profile</a> <a href="/settings" class="block px-4 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800 dark:text-white" data-astro-cid-5blmo7yk>Settings</a> <a href="/communities" class="block px-4 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800 dark:text-white" data-astro-cid-5blmo7yk>Communities</a> </div> <div class="border-t border-neutral-100 dark:border-neutral-800 py-1" data-astro-cid-5blmo7yk> <form action="/api/auth/signout" method="post" data-astro-cid-5blmo7yk> <button type="submit" class="w-full text-left block px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10" data-astro-cid-5blmo7yk>Sign out</button> </form> </div> </div> </div> </div> ` })}` : renderTemplate`${renderComponent($$result, "Fragment", Fragment, { "data-astro-cid-5blmo7yk": true }, { "default": async ($$result2) => renderTemplate` <a href="/login" class="text-sm font-bold text-neutral-600 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white" data-astro-cid-5blmo7yk>Log In</a> <a href="/signup" class="text-sm font-bold bg-neutral-900 dark:bg-white text-white dark:text-black px-5 py-2 rounded-full hover:opacity-90 transition-opacity" data-astro-cid-5blmo7yk>Sign Up</a> ` })}`} </div> </div> </div> </div></nav> <div id="mobile-menu" class="fixed inset-0 z-[9999] md:hidden bg-white dark:bg-black transform translate-x-full transition-transform duration-500 ease-[cubic-bezier(0.32,0.72,0,1)] flex flex-col" data-state="closed" data-astro-cid-5blmo7yk> <div class="h-24 px-6 flex items-center justify-between" data-astro-cid-5blmo7yk> <span class="text-lg font-bold tracking-tight text-neutral-400 uppercase" data-astro-cid-5blmo7yk>Menu</span> <button id="close-mobile-menu" class="p-3 rounded-full bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-white hover:scale-105 transition-transform" data-astro-cid-5blmo7yk> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-5blmo7yk><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-astro-cid-5blmo7yk></path></svg> </button> </div> <div class="flex-1 overflow-y-auto px-6 py-4 flex flex-col" data-astro-cid-5blmo7yk> <nav class="flex flex-col gap-6" data-astro-cid-5blmo7yk> <a href="/explore" class="mobile-link text-5xl font-bold text-neutral-900 dark:text-white hover:text-neutral-500 transition-colors tracking-tighter" data-astro-cid-5blmo7yk>Explore</a> <a href="/about" class="mobile-link text-5xl font-bold text-neutral-900 dark:text-white hover:text-neutral-500 transition-colors tracking-tighter" data-astro-cid-5blmo7yk>About</a> <a href="/services" class="mobile-link text-5xl font-bold text-neutral-900 dark:text-white hover:text-neutral-500 transition-colors tracking-tighter" data-astro-cid-5blmo7yk>Services</a> <a href="/communities" class="mobile-link text-5xl font-bold text-neutral-900 dark:text-white hover:text-neutral-500 transition-colors tracking-tighter" data-astro-cid-5blmo7yk>Community</a> ${session && renderTemplate`<a href="/inbox" class="mobile-link text-5xl font-bold text-neutral-900 dark:text-white hover:text-neutral-500 transition-colors tracking-tighter relative" data-astro-cid-5blmo7yk>
ðŸ“¨ Inbox
<span id="mobile-unread-badge" class="hidden absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold notification-dot" data-astro-cid-5blmo7yk>
0
</span> </a>`} </nav> <div class="mt-auto pt-8 pb-8" data-astro-cid-5blmo7yk> <hr class="border-neutral-200 dark:border-neutral-800 mb-8" data-astro-cid-5blmo7yk> ${session ? renderTemplate`<div class="flex flex-col gap-6" data-astro-cid-5blmo7yk> <div class="flex items-center gap-4" data-astro-cid-5blmo7yk> <img${addAttribute(profile?.avatar_url || `https://api.dicebear.com/7.x/initials/svg?seed=${displayName}`, "src")} class="w-14 h-14 rounded-full bg-neutral-200 border border-neutral-200 dark:border-neutral-800" data-astro-cid-5blmo7yk> <div data-astro-cid-5blmo7yk> <p class="font-bold text-xl text-neutral-900 dark:text-white" data-astro-cid-5blmo7yk>${displayName}</p> <a${addAttribute(`/profile/${user.id}`, "href")} class="text-sm text-neutral-500 hover:text-neutral-900 dark:hover:text-white" data-astro-cid-5blmo7yk>View Profile &rarr;</a> </div> </div> <div class="grid grid-cols-2 gap-3" data-astro-cid-5blmo7yk> <a href="/settings" class="text-center py-4 rounded-2xl bg-neutral-100 dark:bg-neutral-900 font-bold text-neutral-900 dark:text-white" data-astro-cid-5blmo7yk>Settings</a> <form action="/api/auth/signout" method="post" class="w-full" data-astro-cid-5blmo7yk> <button type="submit" class="w-full h-full text-center py-4 rounded-2xl bg-red-50 dark:bg-red-900/10 text-red-600 font-bold" data-astro-cid-5blmo7yk>Sign Out</button> </form> </div> <a href="/post" class="w-full text-center py-5 bg-neutral-900 dark:bg-white text-white dark:text-black font-bold text-xl rounded-2xl shadow-xl hover:scale-[1.02] transition-transform" data-astro-cid-5blmo7yk>
Post New Work
</a> </div>` : renderTemplate`<div class="flex flex-col gap-4" data-astro-cid-5blmo7yk> <a href="/login" class="w-full text-center py-5 rounded-2xl border-2 border-neutral-200 dark:border-neutral-800 font-bold text-neutral-900 dark:text-white text-xl" data-astro-cid-5blmo7yk>Log In</a> <a href="/signup" class="w-full text-center py-5 rounded-2xl bg-neutral-900 dark:bg-white text-white dark:text-black font-bold text-xl shadow-xl" data-astro-cid-5blmo7yk>Sign Up Free</a> </div>`} </div> </div> </div>  ${renderScript($$result, "/Users/nikhilsingh/Documents/websites/wipp/src/components/Navbar.astro?astro&type=script&index=0&lang.ts")}`;
}, "/Users/nikhilsingh/Documents/websites/wipp/src/components/Navbar.astro", void 0);

const $$Footer = createComponent(($$result, $$props, $$slots) => {
  return renderTemplate``;
}, "/Users/nikhilsingh/Documents/websites/wipp/src/components/Footer.astro", void 0);

const $$ChatIcon = createComponent(($$result, $$props, $$slots) => {
  return renderTemplate`${maybeRenderHead()}<div class="fixed bottom-6 right-6 z-50"> <a href="/inbox" class="bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg transition-colors duration-200 flex items-center justify-center" title="Open Inbox"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path> </svg> </a> </div>`;
}, "/Users/nikhilsingh/Documents/websites/wipp/src/components/ChatIcon.astro", void 0);

const $$NotificationToast = createComponent(($$result, $$props, $$slots) => {
  return renderTemplate`${maybeRenderHead()}<div id="notification-container" class="fixed top-4 right-4 z-50 space-y-2" data-astro-cid-xhrccq7q></div> ${renderScript($$result, "/Users/nikhilsingh/Documents/websites/wipp/src/components/NotificationToast.astro?astro&type=script&index=0&lang.ts")} `;
}, "/Users/nikhilsingh/Documents/websites/wipp/src/components/NotificationToast.astro", void 0);

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(cooked.slice()) }));
var _a;
const $$Astro = createAstro();
const $$BaseLayout = createComponent(($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$BaseLayout;
  const { title } = Astro2.props;
  return renderTemplate(_a || (_a = __template(['<html lang="en" class="theme-loading" data-astro-cid-37fxchfa> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><title>', " | Wipp</title><script>\n      (function() {\n        const theme = localStorage.getItem('theme');\n        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n        if (theme === 'dark' || (!theme && prefersDark)) {\n          document.documentElement.classList.add('dark');\n        }\n        document.documentElement.classList.remove('theme-loading');\n      })();\n    <\/script>", '</head> <body class="flex flex-col min-h-screen bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50" data-astro-cid-37fxchfa> ', ' <main class="flex-grow w-full max-w-6xl mx-auto px-4 sm:px-6 pt-6 pb-12" data-astro-cid-37fxchfa> ', " </main> ", " ", " ", ' <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer><\/script> </body> </html>'])), title, renderHead(), renderComponent($$result, "Navbar", $$Navbar, { "data-astro-cid-37fxchfa": true }), renderSlot($$result, $$slots["default"]), renderComponent($$result, "Footer", $$Footer, { "data-astro-cid-37fxchfa": true }), renderComponent($$result, "ChatIcon", $$ChatIcon, { "data-astro-cid-37fxchfa": true }), renderComponent($$result, "NotificationToast", $$NotificationToast, { "data-astro-cid-37fxchfa": true }));
}, "/Users/nikhilsingh/Documents/websites/wipp/src/layouts/BaseLayout.astro", void 0);

export { $$BaseLayout as $ };
