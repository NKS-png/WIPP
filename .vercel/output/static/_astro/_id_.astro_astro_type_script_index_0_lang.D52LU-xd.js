import{supabase as m}from"./supabase.DCKg3lBM.js";import"./index.C1Qlw3jS.js";const d=document.getElementById("comment-form");d&&d.addEventListener("submit",async t=>{t.preventDefault();const o=document.getElementById("comment-content"),c=document.getElementById("project_id"),s=o.value.trim(),r=c.value,{data:{session:n}}=await m.auth.getSession();if(!n){alert("You must be logged in to comment."),window.location.href="/login";return}const{error:e}=await m.from("comments").insert({content:s,project_id:r,user_id:n.user.id});e?alert("Error: "+e.message):window.location.reload()});const u=document.getElementById("comment-btn-scroll");u&&u.addEventListener("click",()=>{document.getElementById("comments-section")?.scrollIntoView({behavior:"smooth"}),document.getElementById("comment-content")?.focus()});const g=document.getElementById("like-btn");g&&g.addEventListener("click",async()=>{const{data:{session:t}}=await m.auth.getSession();if(!t){alert("Please log in to like posts.");return}alert("Liked! (Feature coming soon)")});document.querySelectorAll(".image-slider").forEach(t=>{const o=t.querySelector(".slider-track"),c=t.querySelector(".slider-prev"),s=t.querySelector(".slider-next"),r=t.querySelectorAll(".slider-dots button"),n=JSON.parse(t.getAttribute("data-images")||"[]");let e=0;function a(){o&&(o.style.transform=`translateX(-${e*100}%)`),r.forEach((i,l)=>{i.classList.toggle("bg-white",l===e),i.classList.toggle("bg-white/50",l!==e)})}c&&c.addEventListener("click",()=>{e=e>0?e-1:n.length-1,a()}),s&&s.addEventListener("click",()=>{e=e<n.length-1?e+1:0,a()}),r.forEach((i,l)=>{i.addEventListener("click",()=>{e=l,a()})})});
