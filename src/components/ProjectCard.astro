---
const { project } = Astro.props;

// Debug: Warn if ID is missing
if (!project.id) {
  console.warn('ProjectCard: Missing project ID', project);
}
---

<a href={`/project/${project.id}`} class="group block relative bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
  
  <div class="aspect-[4/3] overflow-hidden bg-neutral-100 dark:bg-neutral-800 relative">
    {project.image_url ? (
      <img 
        src={project.image_url} 
        alt={project.title} 
        class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" 
      />
    ) : (
      <div class="w-full h-full flex items-center justify-center text-neutral-400">
        <span class="text-4xl">üñºÔ∏è</span>
      </div>
    )}
  </div>

  <div class="p-4">
    <h3 class="font-bold text-lg text-neutral-900 dark:text-white truncate group-hover:text-blue-600 transition-colors">
      {project.title}
    </h3>
    <p class="text-sm text-neutral-500 line-clamp-2 mt-1">
      {project.description}
    </p>
    {(import.meta.env.DEV || !project.id) && (
      <div class="mt-2 text-xs text-red-500 bg-red-50 dark:bg-red-900/20 px-2 py-1 rounded">
        ID: {project.id || 'MISSING'}
      </div>
    )}
  </div>
</a>
