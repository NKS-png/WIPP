/* empty css                                 */
import { e as createComponent, f as createAstro, k as renderComponent, l as renderScript, r as renderTemplate, m as maybeRenderHead, h as addAttribute } from '../chunks/astro/server_CvuIRyz4.mjs';
import 'piccolore';
import { $ as $$BaseLayout } from '../chunks/BaseLayout_SShpJa9a.mjs';
import { s as supabase } from '../chunks/supabase_CDb81jFl.mjs';
/* empty css                                    */
export { renderers } from '../renderers.mjs';

const $$Astro = createAstro();
const $$Settings = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$Settings;
  const { data: { session } } = await supabase.auth.getSession();
  if (!session) return Astro2.redirect("/login");
  const { data: profile } = await supabase.from("profiles").select("*").eq("id", session.user.id).single();
  if (!profile) return Astro2.redirect("/login");
  return renderTemplate`${renderComponent($$result, "BaseLayout", $$BaseLayout, { "title": "Settings", "data-astro-cid-swhfej32": true }, { "default": async ($$result2) => renderTemplate` ${maybeRenderHead()}<div class="max-w-6xl mx-auto px-6 py-12" data-astro-cid-swhfej32> <div class="flex flex-col md:flex-row gap-12" data-astro-cid-swhfej32> <aside class="w-full md:w-64 flex-shrink-0" data-astro-cid-swhfej32> <h1 class="text-3xl font-bold mb-8 text-neutral-900 dark:text-white" data-astro-cid-swhfej32>Settings</h1> <nav class="space-y-1" data-astro-cid-swhfej32> <a href="/settings" class="block px-4 py-2 rounded-lg bg-neutral-900 dark:bg-white text-white dark:text-black font-medium shadow-md" data-astro-cid-swhfej32>
Edit Profile
</a> <div class="pt-6 mt-6 border-t border-neutral-100 dark:border-neutral-800" data-astro-cid-swhfej32> <a${addAttribute(`/profile/${session.user.id}`, "href")} class="flex items-center gap-2 px-4 py-2 text-sm font-bold text-neutral-500 hover:text-neutral-900 dark:hover:text-white transition-colors" data-astro-cid-swhfej32>
&larr; Back to Profile
</a> </div> </nav> </aside> <main class="flex-1" data-astro-cid-swhfej32> <div class="bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-8 shadow-sm" data-astro-cid-swhfej32> <div class="mb-8 pb-6 border-b border-neutral-100 dark:border-neutral-800" data-astro-cid-swhfej32> <h2 class="text-xl font-bold text-neutral-900 dark:text-white" data-astro-cid-swhfej32>Public Profile</h2> <p class="text-neutral-500 text-sm mt-1" data-astro-cid-swhfej32>This information will be displayed publicly.</p> </div> <form id="settings-form" class="space-y-8" data-astro-cid-swhfej32> <div class="group relative mb-10" data-astro-cid-swhfej32> <label class="block text-xs font-bold text-neutral-500 uppercase mb-3" data-astro-cid-swhfej32>Banner & Avatar</label> <div class="relative h-48 w-full rounded-xl overflow-hidden bg-neutral-100 dark:bg-neutral-800 border-2 border-dashed border-neutral-300 dark:border-neutral-700 hover:border-neutral-500 transition-colors group/banner" data-astro-cid-swhfej32> ${profile.banner_url ? renderTemplate`<img id="banner-preview"${addAttribute(profile.banner_url, "src")} class="w-full h-full object-cover" data-astro-cid-swhfej32>` : renderTemplate`<div class="w-full h-full bg-gradient-to-r from-neutral-200 to-neutral-300 dark:from-neutral-800 dark:to-neutral-900" data-astro-cid-swhfej32></div>`} <img id="banner-preview-new" class="absolute inset-0 w-full h-full object-cover hidden" data-astro-cid-swhfej32> <div class="absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover/banner:opacity-100 transition-opacity cursor-pointer" data-astro-cid-swhfej32> <span class="text-white font-bold text-sm flex items-center gap-2 backdrop-blur-sm bg-black/20 px-4 py-2 rounded-full" data-astro-cid-swhfej32>
ðŸ“· Change Cover
</span> </div> <input type="file" id="banner-upload" accept="image/*" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" data-astro-cid-swhfej32> </div> <div class="absolute -bottom-8 left-6 w-24 h-24 rounded-full border-4 border-white dark:border-neutral-900 bg-neutral-200 dark:bg-neutral-800 overflow-hidden group/avatar shadow-lg" data-astro-cid-swhfej32> ${profile.avatar_url ? renderTemplate`<img id="avatar-preview"${addAttribute(profile.avatar_url, "src")} class="w-full h-full object-cover" data-astro-cid-swhfej32>` : renderTemplate`<div class="w-full h-full flex items-center justify-center font-bold text-2xl text-neutral-400" data-astro-cid-swhfej32>${profile.username?.[0]}</div>`} <img id="avatar-preview-new" class="absolute inset-0 w-full h-full object-cover hidden" data-astro-cid-swhfej32> <div class="absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover/avatar:opacity-100 transition-opacity cursor-pointer" data-astro-cid-swhfej32> <span class="text-white text-xs font-bold" data-astro-cid-swhfej32>Edit</span> </div> <input type="file" id="avatar-upload" accept="image/*" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" data-astro-cid-swhfej32> </div> </div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6 pt-8" data-astro-cid-swhfej32> <div data-astro-cid-swhfej32> <label class="block text-xs font-bold text-neutral-500 uppercase mb-2" data-astro-cid-swhfej32>Full Name</label> <input type="text" id="full_name"${addAttribute(profile.full_name || "", "value")} class="input-field w-full" placeholder="e.g. Jane Doe" data-astro-cid-swhfej32> </div> <div data-astro-cid-swhfej32> <label class="block text-xs font-bold text-neutral-500 uppercase mb-2" data-astro-cid-swhfej32>Username</label> <div class="relative" data-astro-cid-swhfej32> <span class="absolute left-3 top-3 text-neutral-400" data-astro-cid-swhfej32>@</span> <input type="text" id="username"${addAttribute(profile.username || "", "value")} class="input-field w-full pl-8" placeholder="janedoe" data-astro-cid-swhfej32> </div> </div> </div> <div data-astro-cid-swhfej32> <label class="block text-xs font-bold text-neutral-500 uppercase mb-2" data-astro-cid-swhfej32>Bio</label> <textarea id="bio" rows="3" class="input-field w-full" placeholder="Tell us a little about yourself..." data-astro-cid-swhfej32>${profile.bio || ""}</textarea> </div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6" data-astro-cid-swhfej32> <div data-astro-cid-swhfej32> <label class="block text-xs font-bold text-neutral-500 uppercase mb-2" data-astro-cid-swhfej32>Website</label> <input type="url" id="website"${addAttribute(profile.website || "", "value")} class="input-field w-full" placeholder="https://yoursite.com" data-astro-cid-swhfej32> </div> <div data-astro-cid-swhfej32> <label class="block text-xs font-bold text-neutral-500 uppercase mb-2" data-astro-cid-swhfej32>Location</label> <input type="text" id="location"${addAttribute(profile.location || "", "value")} class="input-field w-full" placeholder="e.g. Tokyo, Japan" data-astro-cid-swhfej32> </div> </div> <div class="pt-6 border-t border-neutral-100 dark:border-neutral-800 flex items-center justify-end gap-4" data-astro-cid-swhfej32> <a${addAttribute(`/profile/${session.user.id}`, "href")} class="text-sm font-bold text-neutral-500 hover:text-neutral-900 dark:hover:text-white transition-colors" data-astro-cid-swhfej32>Cancel</a> <button type="submit" id="save-btn" class="bg-neutral-900 dark:bg-white text-white dark:text-black px-8 py-3 rounded-full font-bold hover:opacity-90 transition-opacity flex items-center gap-2 shadow-lg" data-astro-cid-swhfej32> <span data-astro-cid-swhfej32>Save Changes</span> <span id="spinner" class="hidden animate-spin" data-astro-cid-swhfej32>âŸ³</span> </button> </div> </form> </div> </main> </div> </div> ` })} ${renderScript($$result, "/Users/nikhilsingh/Documents/websites/wipp/src/pages/settings.astro?astro&type=script&index=0&lang.ts")} `;
}, "/Users/nikhilsingh/Documents/websites/wipp/src/pages/settings.astro", void 0);

const $$file = "/Users/nikhilsingh/Documents/websites/wipp/src/pages/settings.astro";
const $$url = "/settings";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$Settings,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
